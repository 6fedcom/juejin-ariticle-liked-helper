{"version":3,"sources":["components/ArticleList/juejinsite.jpg","components/ArticleList/index.tsx","components/App.tsx","serviceWorker.ts","index.tsx"],"names":["module","exports","Search","ArticleList","props","_isMounted","state","pagination","position","pageSize","likeList","searchText","searchedColumn","loading","scroll","undefined","searchInput","resize","console","log","window","innerHeight","setState","getLikeList","value","id","localStorage","setItem","getItem","axios","get","then","response","data","catch","error","changeUser","replace","length","test","message","warning","history","push","getColumnSearchProps","dataIndex","type","filterDropdown","setSelectedKeys","selectedKeys","confirm","clearFilters","style","padding","ref","node","placeholder","onChange","e","target","onPressEnter","handleSearch","width","marginBottom","display","onClick","icon","SearchOutlined","size","marginRight","handleReset","filterIcon","filtered","color","onFilter","record","toString","toLowerCase","includes","onFilterDropdownVisibleChange","visible","setTimeout","select","render","text","href","originalUrl","rel","highlightStyle","backgroundColor","searchWords","autoEscape","textToHighlight","handleTableChange","filters","sorter","this","screenChange","removeEventListener","addEventListener","widthArray","columns","title","key","a","b","author","localeCompare","tags","map","tag","index","collectionCount","viewsCount","Time","moment","format","Date","createdAt","getTime","locale","zhCN","closable","closeText","className","enterButton","onSearch","src","juejinSite","alt","rowKey","tableLayout","bordered","dataSource","y","React","Component","withRouter","App","useParams","Boolean","location","hostname","match","Hello","exact","path","component","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.21aec827.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/juejinsite.ed53554b.jpg\";","import React from 'react';\nimport moment from 'moment'\nimport axios from 'axios'\nimport { withRouter } from \"react-router-dom\";\nimport {\n  Table, Tag, Button, Input, message,\n  ConfigProvider, Alert\n} from 'antd';\n\nimport zhCN from 'antd/es/locale/zh_CN';\nimport { ColumnProps } from 'antd/es/table';\nimport { SearchOutlined } from '@ant-design/icons';\nimport Highlighter from 'react-highlight-words';\nimport './table.css';\nimport { Article, State, Props, filterDropdownType } from './interface';\n// import VirtualTable from './virtualList'\nimport juejinSite from './juejinsite.jpg'\n\nconst { Search } = Input;\nclass ArticleList extends React.Component<Props, State> {\n\n  _isMounted = false;\n  state: State = {\n    pagination: {\n      position: ['topRight', \"bottomRight\"],\n      pageSize: 10\n    },\n    likeList: [],\n    searchText: '',\n    searchedColumn: '',\n    loading: true,\n    scroll: undefined\n  };\n  searchInput: any;\n  constructor(props: Props) {\n    super(props);\n    this.searchInput = null;\n  }\n  componentDidMount () {\n    this.getLikeList()\n    this.screenChange()\n  }\n  componentWillUnmount () {\n    this._isMounted = false;\n    window.removeEventListener('resize', this.resize);\n  }\n  screenChange () {\n    window.addEventListener('resize', this.resize);\n  }\n\n  resize = () => {\n    console.log(window.innerHeight)\n    let scroll = window.innerHeight - 165\n    console.log(this)\n    this.setState({\n      scroll\n    })\n  }\n  getLikeList = (value?: string) => {\n    this._isMounted = true;\n    console.log(111)\n    let { id } = this.props || ''\n    if (value) {\n      id = value\n    }\n    if (id) {\n      localStorage.setItem(\"userid\", id);\n    } else {\n      id = localStorage.getItem(\"userid\") || \"57fb24cf816dfa0056c1f8af\"\n    }\n    let base = \"https://juejin-api.58fe.com\"\n    axios.get(`${base}/api/getList/${id}`)\n      .then((response) => {\n        // console.log(response.data);\n        if (this._isMounted) {\n          this.setState({\n            likeList: response.data,\n            loading: false\n          })\n        }\n      })\n      .catch(function (error) {\n        console.log(error);\n      })\n  }\n  changeUser = (value: string) => {\n    value = value.replace(/\\s+/g, \"\")\n    if (value.length !== 24 || /[^\\w]/.test(value)) {\n      message.warning('请输入正确的掘金用户id');\n      return\n    }\n\n    if (value) {\n      this.setState({\n        loading: true\n      }, () => {\n        this.props.history && this.props.history.push(`/${value}`);\n        localStorage.setItem(\"userid\", value);\n        this.getLikeList(value)\n      })\n    }\n  }\n  //模糊查找\n  // fuzzySearch (selectedKeys: string, dataIndex: string) {\n  //   console.log(selectedKeys, dataIndex, this.state.likeList)\n  //   let { likeList } = this.state\n  //   if (likeList.length) {\n  //     likeList.map(item => {\n  //     })\n  //   }\n  // }\n  getColumnSearchProps = (dataIndex: string, type: string) => ({\n    filterDropdown: ({ setSelectedKeys, selectedKeys, confirm, clearFilters }: filterDropdownType) => (\n      <div style={{ padding: 8 }}>\n        <Input\n          ref={node => {\n            this.searchInput = node;\n          }}\n          placeholder={`根据关键字查找${type}`}\n          value={selectedKeys[0]}\n          onChange={e => setSelectedKeys(e.target.value ? [e.target.value] : [])}\n          onPressEnter={() => this.handleSearch(selectedKeys, confirm, dataIndex)}\n          style={{ width: 188, marginBottom: 8, display: 'block' }}\n        />\n        {/* <Button\n          type=\"primary\"\n          onClick={() => this.fuzzySearch(selectedKeys, dataIndex)}\n          icon={<SearchOutlined />}\n          size=\"small\"\n          style={{ width: 50, marginRight: 8 }}\n        >\n          模糊查找\n        </Button> */}\n        <Button\n          type=\"primary\"\n          onClick={() => this.handleSearch(selectedKeys, confirm, dataIndex)}\n          icon={<SearchOutlined />}\n          size=\"small\"\n          style={{ width: 90, marginRight: 8 }}\n        >\n          查找\n        </Button>\n        <Button onClick={() => this.handleReset(clearFilters)} size=\"small\" style={{ width: 90 }}>\n          清除\n        </Button>\n      </div>\n    ),\n    filterIcon: (filtered: any) => <SearchOutlined style={{ color: filtered ? '#eb5424' : undefined }\n    } />,\n    onFilter: (value: any, record: any) =>\n      record[dataIndex]\n        .toString()\n        .toLowerCase()\n        .includes(value.toLowerCase()),\n    onFilterDropdownVisibleChange: (visible: Boolean) => {\n      if (visible) {\n        setTimeout(() =>\n          this.searchInput.select()\n        );\n      }\n    },\n    render: (text: string, record: Article) =>\n      this.state.searchedColumn === dataIndex ? (\n        dataIndex === 'title' ? <a href={record.originalUrl} target=\"_blank\" rel=\"noopener noreferrer\">   <Highlighter\n          highlightStyle={{ backgroundColor: '#ffc069', padding: 0 }}\n          searchWords={[this.state.searchText]}\n          autoEscape\n          textToHighlight={text.toString()}\n        /></a> : <Highlighter\n            highlightStyle={{ backgroundColor: '#ffc069', padding: 0 }}\n            searchWords={[this.state.searchText]}\n            autoEscape\n            textToHighlight={text.toString()}\n          />\n      ) : (\n          dataIndex === 'title' ? (<a href={record.originalUrl} target=\"_blank\" rel=\"noopener noreferrer\">{text}</a>) : text\n        ),\n  });\n\n  handleSearch = (selectedKeys: any, confirm: () => void, dataIndex: string) => {\n    confirm();\n    this.setState({\n      searchText: selectedKeys[0],\n      searchedColumn: dataIndex,\n    });\n  };\n  handleReset = (clearFilters: any) => {\n    clearFilters();\n    this.setState({ searchText: '' });\n  };\n  // getArtcileContent = async (id: string) => {\n  //   if (id) {\n  //     axios.get(`api/getArtcileContent/${id}`).then(res => {\n  //       console.log(res.data)\n  //       this.setState({\n  //         artcileContent: res.data\n  //       })\n  //     })\n  //   }\n  // }\n  handleTableChange = (pagination: any, filters: any, sorter: any) => {\n    this.setState({\n      pagination,\n    });\n\n  }\n\n  render () {\n    const { likeList, pagination, loading, scroll } = this.state\n\n    let widthArray = [\"40%\", \"10%\", \"8%\", \"16%\", \"8%\", \"8%\", \"10%\"]\n    const columns: ColumnProps<Article>[] = [\n      {\n        title: '标题',\n        dataIndex: 'title',\n        key: 'title',\n        ...this.getColumnSearchProps('title', \"标题\"),\n        width: widthArray[0],\n      },\n      {\n        title: '作者',\n        dataIndex: 'author',\n        key: 'author',\n        sorter: (a: Article, b: Article) => a.author.localeCompare(b.author, 'zh'),\n        ...this.getColumnSearchProps('author', \"作者\"),\n        width: widthArray[1],\n      },\n      {\n        title: '类别',\n        dataIndex: 'type',\n        key: 'type',\n        width: widthArray[2],\n        sorter: (a: Article, b: Article) => a.type.localeCompare(b.type, 'zh'),\n        ...this.getColumnSearchProps('type', \"类别\"),\n      },\n      {\n        title: '标签',\n        key: 'tags',\n        dataIndex: 'tags',\n        width: widthArray[3],\n\n        render: (tags: any[]) => (\n          <span>\n            {tags.map((tag, index) => {\n              return (\n                <Tag color={'volcano'} key={index}>\n                  {tag}\n                </Tag>\n              );\n            })}\n          </span>\n        ),\n      },\n      {\n        title: '点赞数',\n        dataIndex: 'collectionCount',\n        key: 'collectionCount',\n        width: widthArray[4],\n        sorter: (a: Article, b: Article) => a.collectionCount - b.collectionCount,\n      },\n      {\n        title: '阅读量',\n        dataIndex: 'viewsCount',\n        key: 'viewsCount',\n        width: widthArray[5],\n        sorter: (a: Article, b: Article) => a.viewsCount - b.viewsCount,\n      },\n      {\n        title: '发布时间',\n        dataIndex: 'createdAt',\n        key: 'createdAt',\n        width: widthArray[6],\n        render: (Time: string) => <div>{moment(Time).format(\"YYYY-MM-DD\")}</div>,\n        sorter: (a: Article, b: Article) => new Date(a.createdAt).getTime() - new Date(b.createdAt).getTime(),\n      }\n    ];\n    return (\n      <ConfigProvider locale={zhCN}>\n        <Alert message={\n          <div>本项目只做学习交流用途，<a rel=\"noopener noreferrer\" href=\"https://github.com/6fed/juejin-ariticle-liked-helper\" target=\"_blank\">点击此处查看源码</a>，如果您觉得对你有帮助，您可以Crtl+D/command+D收藏本网址。</div>} type=\"success\" closable closeText=\"关闭\" />\n        <Alert className=\"table-operations\" message={<div >\n          <Button onClick={() => this.getLikeList} size=\"small\" style={{ width: 90 }}>\n            清除\n          </Button>\n          <Search\n            placeholder=\"复制你的掘金网站用户Id，粘贴到这里\"\n            enterButton=\"切换用户\"\n            size=\"middle\"\n            onSearch={this.changeUser}\n            style={{ width: 400 }}\n          />\n          <img className=\"juejin-guide\" src={juejinSite} alt=\"juejin-guide\" />\n        </div>} type=\"info\" closable closeText=\"关闭\" />\n\n        <Table\n          rowKey={record => record.originalUrl}\n          tableLayout=\"auto\"\n          bordered\n          columns={columns}\n          dataSource={likeList}\n          loading={loading}\n          // expandable={{\n          //   expandedRowRender: (record: Article,index) => <p>\n          //     <a href={record.originalUrl} rel=\"noopener noreferrer\" target=\"_blank\">阅读原文</a>\n          //   </p>,\n          //   onExpandedRowsChange: (expandedRows) => {\n          //     console.log(expandedRows)\n          //     if (expandedRows.length) {\n          //       // console.log\n          //       // this.getArtcileContent(expandedRows.pop()\n          //       //   .replace(\"https://juejin.im/post/\", ''))\n          //     }\n          //   }\n          // }}\n          pagination={pagination}\n          size=\"small\"\n          onChange={this.handleTableChange}\n          scroll={{ y: (window.innerHeight - 165) || scroll }}\n        />\n\n        {/* <VirtualTable className=\"virtual-table\" columns={columns} dataSource={likeList} scroll={{ y: 500, x: '100vw' }} /> */}\n\n      </ConfigProvider>\n    );\n  }\n}\nexport default withRouter<any, any>(ArticleList);","import * as React from 'react';\nimport ArticleList from './ArticleList'\nimport './App.css'\nimport { useParams } from 'react-router-dom';\n\nconst App = () => {\n  let { id } = useParams();\n  return (\n    <ArticleList id={id} />\n  );\n}\n\nexport default App","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport {\n  BrowserRouter as Router,\n  Route\n} from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nexport default class Hello extends Component {\n  render () {\n    return (\n      <Router>\n        <div>\n          <Route exact path=\"/\" component={App} />\n          <Route path=\"/:id\" component={App} />\n        </div>\n      </Router>\n    )\n  }\n}\nReactDOM.render(<Hello />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}