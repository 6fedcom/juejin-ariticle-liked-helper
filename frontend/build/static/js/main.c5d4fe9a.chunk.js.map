{"version":3,"sources":["components/ArticleList/index.tsx","components/App.tsx","serviceWorker.ts","index.tsx"],"names":["location","window","Search","ArticleList","props","box1Ref","box2Ref","_isMounted","state","pagination","position","pageSize","likeList","searchText","searchedColumn","loading","scroll","undefined","isPc","searchInput","resize","innerHeight","current","setState","getLikeList","value","id","length","test","localStorage","removeItem","history","push","setItem","getItem","base","port","axios","get","then","response","data","catch","error","console","log","changeUser","replace","userId","message","warning","getColumnSearchProps","dataIndex","type","filterDropdown","setSelectedKeys","selectedKeys","confirm","clearFilters","style","padding","ref","node","placeholder","onChange","e","target","onPressEnter","handleSearch","width","marginBottom","display","onClick","icon","SearchOutlined","size","marginRight","handleReset","filterIcon","filtered","color","onFilter","record","toString","toLowerCase","includes","onFilterDropdownVisibleChange","visible","setTimeout","select","render","text","href","originalUrl","rel","highlightStyle","backgroundColor","searchWords","autoEscape","textToHighlight","onCloseTip","box2RefHeight","clientHeight","onCloseInput","box1RefHeight","handleTableChange","filters","sorter","React","createRef","this","screenChange","removeEventListener","addEventListener","navigator","userAgent","widthArray","columns","title","key","a","b","author","localeCompare","tags","map","tag","index","collectionCount","viewsCount","Time","moment","format","Date","createdAt","getTime","locale","zhCN","className","closable","closeText","onClose","enterButton","onSearch","rowKey","tableLayout","bordered","dataSource","y","Component","withRouter","App","useParams","Boolean","hostname","match","Hello","exact","path","component","ReactDOM","document","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.c5d4fe9a.chunk.js","sourcesContent":["import React from 'react';\nimport moment from 'moment'\nimport axios from 'axios'\nimport { withRouter } from \"react-router-dom\";\nimport {\n  Table, Tag, Button, Input, message,\n  ConfigProvider, Alert\n} from 'antd';\n\nimport zhCN from 'antd/es/locale/zh_CN';\nimport { ColumnProps } from 'antd/es/table';\nimport { SearchOutlined } from '@ant-design/icons';\nimport Highlighter from 'react-highlight-words';\nimport './table.css';\nimport { Article, State, Props, filterDropdownType } from './interface';\n// import VirtualTable from './virtualList' \nlet location: Location = window.location\n\nconst { Search } = Input;\nclass ArticleList extends React.Component<Props, State> {\n  private box1Ref: React.RefObject<HTMLDivElement>;\n  private box2Ref: React.RefObject<HTMLDivElement>;\n  _isMounted = false;\n  state: State = {\n    pagination: {\n      position: [\"bottomRight\"],\n      pageSize: 20\n    },\n    likeList: [],\n    searchText: '',\n    searchedColumn: '',\n    loading: true,\n    scroll: undefined,\n    isPc: false,\n\n  };\n  searchInput: any;\n  constructor(props: Props) {\n    super(props);\n    this.box1Ref = React.createRef();\n    this.box2Ref = React.createRef();\n    this.searchInput = null;\n  }\n  componentDidMount () {\n    this.getLikeList()\n    this.screenChange()\n  }\n  componentWillUnmount () {\n    this._isMounted = false;\n    window.removeEventListener('resize', this.resize);\n  }\n\n  screenChange () {\n    window.addEventListener('resize', this.resize);\n    if (/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)) {\n\n    } else if (/(Android)/i.test(navigator.userAgent)) {\n\n    } else {\n      this.setState({\n        isPc: true\n      })\n    };\n  }\n\n  resize = () => {\n    let scroll = window.innerHeight - 168\n    const box1Ref = this.box1Ref.current;\n    const box2Ref = this.box2Ref.current;\n    if (!box1Ref) {\n      scroll = scroll + 22\n    }\n    if (!box2Ref) {\n      scroll = scroll + 32\n    }\n\n    this.setState({\n      scroll\n    })\n  }\n  getLikeList = (value?: string) => {\n    this._isMounted = true;\n    let { id } = this.props || ''\n    if (value) {\n      id = value\n    }\n    if (id) {\n      if (id.length !== 24 || /[^\\w]/.test(id)) {\n        localStorage.removeItem(\"userid\")\n        this.props.history && this.props.history.push(`/`);\n        return\n      }\n      localStorage.setItem(\"userid\", id);\n    } else {\n      id = localStorage.getItem(\"userid\") || \"57fb24cf816dfa0056c1f8af\"\n    }\n    let base = \"https://juejin-api.58fe.com\"\n    if (location.port === '3000') {\n      base = \"\"\n    }\n\n    axios.get(`${base}/api/getList/${id}`)\n      .then((response) => {\n        // console.log(response.data);\n        if (this._isMounted) {\n          this.setState({\n            likeList: response.data,\n            loading: false\n          })\n        }\n      })\n      .catch(function (error) {\n        console.log(error);\n      })\n  }\n  changeUser = (value: string) => {\n    value = value.replace(/\\s+/g, \"\")\n    if (!value) {\n      message.warning('请复制您的掘金用户主页地址，例如：https://juejin.im/user/57fb24cf816dfa0056c1f8af');\n      return\n    }\n    let userId = value.replace('https://juejin.im/user/', \"\")\n    if (userId.length !== 24 || /[^\\w]/.test(userId)) {\n      message.warning('请检查你输入的掘金用户主页是否正确');\n      return\n    }\n\n    if (userId) {\n      this.setState({\n        loading: true\n      }, () => {\n        this.props.history && this.props.history.push(`/${userId}`);\n        localStorage.setItem(\"userid\", userId);\n        this.getLikeList(userId)\n      })\n    }\n  }\n  //模糊查找\n  // fuzzySearch (selectedKeys: string, dataIndex: string) {\n  //   console.log(selectedKeys, dataIndex, this.state.likeList)\n  //   let { likeList } = this.state\n  //   if (likeList.length) {\n  //     likeList.map(item => {\n  //     })\n  //   }\n  // }\n  getColumnSearchProps = (dataIndex: string, type: string) => ({\n    filterDropdown: ({ setSelectedKeys, selectedKeys, confirm, clearFilters }: filterDropdownType) => (\n      <div style={{ padding: 8 }}>\n        <Input\n          ref={node => {\n            this.searchInput = node;\n          }}\n          placeholder={`根据关键字查找${type}`}\n          value={selectedKeys[0]}\n          onChange={e => setSelectedKeys(e.target.value ? [e.target.value] : [])}\n          onPressEnter={() => this.handleSearch(selectedKeys, confirm, dataIndex)}\n          style={{ width: 188, marginBottom: 8, display: 'block' }}\n        />\n        {/* <Button\n          type=\"primary\"\n          onClick={() => this.fuzzySearch(selectedKeys, dataIndex)}\n          icon={<SearchOutlined />}\n          size=\"small\"\n          style={{ width: 50, marginRight: 8 }}\n        >\n          模糊查找\n        </Button> */}\n        <Button\n          type=\"primary\"\n          onClick={() => this.handleSearch(selectedKeys, confirm, dataIndex)}\n          icon={<SearchOutlined />}\n          size=\"small\"\n          style={{ width: 90, marginRight: 8 }}\n        >\n          查找\n        </Button>\n        <Button onClick={() => this.handleReset(clearFilters)} size=\"small\" style={{ width: 90 }}>\n          清除\n        </Button>\n      </div>\n    ),\n    filterIcon: (filtered: any) => <SearchOutlined style={{ color: filtered ? '#eb5424' : undefined }\n    } />,\n    onFilter: (value: any, record: any) =>\n      record[dataIndex]\n        .toString()\n        .toLowerCase()\n        .includes(value.toLowerCase()),\n    onFilterDropdownVisibleChange: (visible: Boolean) => {\n      if (visible) {\n        setTimeout(() =>\n          this.searchInput.select()\n        );\n      }\n    },\n    render: (text: string, record: Article) =>\n      this.state.searchedColumn === dataIndex ? (\n        dataIndex === 'title' ? <a href={record.originalUrl} target=\"_blank\" rel=\"noopener noreferrer\">   <Highlighter\n          highlightStyle={{ backgroundColor: '#ffc069', padding: 0 }}\n          searchWords={[this.state.searchText]}\n          autoEscape\n          textToHighlight={text.toString()}\n        /></a> : <Highlighter\n            highlightStyle={{ backgroundColor: '#ffc069', padding: 0 }}\n            searchWords={[this.state.searchText]}\n            autoEscape\n            textToHighlight={text.toString()}\n          />\n      ) : (\n          dataIndex === 'title' ? (<a href={record.originalUrl} target=\"_blank\" rel=\"noopener noreferrer\">{text}</a>) : text\n        ),\n  });\n\n  handleSearch = (selectedKeys: any, confirm: () => void, dataIndex: string) => {\n    confirm();\n    this.setState({\n      searchText: selectedKeys[0],\n      searchedColumn: dataIndex,\n    });\n  };\n  handleReset = (clearFilters: any) => {\n    clearFilters();\n    this.setState({ searchText: '' });\n  };\n  // getArtcileContent = async (id: string) => {\n  //   if (id) {\n  //     axios.get(`api/getArtcileContent/${id}`).then(res => {\n  //       console.log(res.data)\n  //       this.setState({\n  //         artcileContent: res.data\n  //       })\n  //     })\n  //   }\n  // }\n  onCloseTip = () => {\n    const box2Ref = this.box2Ref.current;\n    let scroll = window.innerHeight - 110\n    let box2RefHeight = 0\n    if (box2Ref) {\n      box2RefHeight = box2Ref.clientHeight\n    }\n    scroll = scroll - box2RefHeight\n    this.setState({\n      scroll\n    })\n  }\n  onCloseInput = () => {\n    const box1Ref = this.box1Ref.current;\n    let scroll = window.innerHeight - 110\n    let box1RefHeight = 0\n    if (box1Ref) {\n      box1RefHeight = box1Ref.clientHeight\n    }\n\n    scroll = scroll - box1RefHeight\n    this.setState({\n      scroll\n    })\n  }\n\n  handleTableChange = (pagination: any, filters: any, sorter: any) => {\n    this.setState({\n      pagination,\n    });\n  }\n\n  render () {\n    const { likeList, pagination, loading, scroll, isPc } = this.state\n\n    let widthArray = [\"40%\", \"10%\", \"8%\", \"16%\", \"8%\", \"8%\", \"10%\"]\n    const columns: ColumnProps<Article>[] = [\n      {\n        title: '标题',\n        dataIndex: 'title',\n        key: 'title',\n        ...this.getColumnSearchProps('title', \"标题\"),\n        width: widthArray[0],\n      },\n      {\n        title: '作者',\n        dataIndex: 'author',\n        key: 'author',\n        sorter: (a: Article, b: Article) => a.author.localeCompare(b.author, 'zh'),\n        ...this.getColumnSearchProps('author', \"作者\"),\n        width: widthArray[1],\n      },\n      {\n        title: '类别',\n        dataIndex: 'type',\n        key: 'type',\n        width: widthArray[2],\n        sorter: (a: Article, b: Article) => a.type.localeCompare(b.type, 'zh'),\n        ...this.getColumnSearchProps('type', \"类别\"),\n      },\n      {\n        title: '标签',\n        key: 'tags',\n        dataIndex: 'tags',\n        width: widthArray[3],\n\n        render: (tags: any[]) => (\n          <span>\n            {tags.map((tag, index) => {\n              return (\n                <Tag color={'volcano'} key={index}>\n                  {tag}\n                </Tag>\n              );\n            })}\n          </span>\n        ),\n      },\n      {\n        title: '点赞数',\n        dataIndex: 'collectionCount',\n        key: 'collectionCount',\n        width: widthArray[4],\n        sorter: (a: Article, b: Article) => a.collectionCount - b.collectionCount,\n      },\n      {\n        title: '阅读量',\n        dataIndex: 'viewsCount',\n        key: 'viewsCount',\n        width: widthArray[5],\n        sorter: (a: Article, b: Article) => a.viewsCount - b.viewsCount,\n      },\n      {\n        title: '发布时间',\n        dataIndex: 'createdAt',\n        key: 'createdAt',\n        width: widthArray[6],\n        render: (Time: string) => <div>{moment(Time).format(\"YYYY-MM-DD\")}</div>,\n        sorter: (a: Article, b: Article) => new Date(a.createdAt).getTime() - new Date(b.createdAt).getTime(),\n      }\n    ];\n    return (\n      <ConfigProvider locale={zhCN}>\n        <Alert message={\n          <div className=\"table-tip\" ref={this.box1Ref}>\n            <b>复制你的掘金网站用户主页地址，粘贴到下面的输入框。</b>如果您觉得对你有帮助，您可以Crtl+D/command+D收藏本网址。\n           {!isPc && <p> 请复制网站：https://juejin.58fe.com 去pc端可以得到更好的体验</p>}\n          </div>}\n          type=\"success\" closable closeText=\"关闭\" onClose={this.onCloseTip} />\n        <Alert className=\"table-operations\" message={\n          <div ref={this.box2Ref}>\n            {isPc ? <Search\n              placeholder=\"例如：https://juejin.im/user/57fb24cf816dfa0056c1f8af\"\n              enterButton=\"切换用户\"\n              size=\"middle\"\n              onSearch={this.changeUser}\n              style={{ width: 500 }}\n            /> : <Search\n                placeholder=\"例如：https://juejin.im/user/57fb24cf816dfa0056c1f8af\"\n                enterButton=\"切换用户\"\n                size=\"middle\"\n                onSearch={this.changeUser}\n              />}\n          </div>\n        } type=\"info\" closable closeText=\"关闭\" onClose={this.onCloseInput} />\n\n        <Table\n          rowKey={record => record.originalUrl}\n          tableLayout=\"auto\"\n          bordered\n          columns={columns}\n          dataSource={likeList}\n          loading={loading}\n          // expandable={{\n          //   expandedRowRender: (record: Article,index) => <p>\n          //     <a href={record.originalUrl} rel=\"noopener noreferrer\" target=\"_blank\">阅读原文</a>\n          //   </p>,\n          //   onExpandedRowsChange: (expandedRows) => {\n          //     console.log(expandedRows)\n          //     if (expandedRows.length) {\n          //       // console.log\n          //       // this.getArtcileContent(expandedRows.pop()\n          //       //   .replace(\"https://juejin.im/post/\", ''))\n          //     }\n          //   }\n          // }}\n          pagination={pagination}\n          size=\"small\"\n          onChange={this.handleTableChange}\n          scroll={{ y: scroll || (window.innerHeight - 168) }}\n        />\n\n        {/* <VirtualTable className=\"virtual-table\" columns={columns} dataSource={likeList} scroll={{ y: 500, x: '100vw' }} /> */}\n        <footer>\n          本项目只做学习交流用途，<a rel=\"noopener noreferrer\" href=\"https://github.com/6fed/juejin-ariticle-liked-helper\" target=\"_blank\">点击此处查看源码</a>,服务器搭建在\n          <a rel=\"noopener noreferrer\" href=\"https://www.aliyun.com/minisite/goods?userCode=jh5fwy2j&share_source=copy_link\" target=\"_blank\">\n            阿里云\n          </a>\n        </footer>\n      </ConfigProvider>\n    );\n  }\n}\nexport default withRouter<any, any>(ArticleList);","import * as React from 'react';\nimport ArticleList from './ArticleList'\nimport './App.css'\nimport { useParams } from 'react-router-dom';\n\nconst App = () => {\n  let { id } = useParams();\n  return (\n    <ArticleList id={id} />\n  );\n}\n\nexport default App","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport {\n  BrowserRouter as Router,\n  Route\n} from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nexport default class Hello extends Component {\n  render () {\n    return (\n      <Router>\n        <div>\n          <Route exact path=\"/\" component={App} />\n          <Route path=\"/:id\" component={App} />\n        </div>\n\n      </Router>\n    )\n  }\n}\nReactDOM.render(<Hello />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}